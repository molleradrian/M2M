<div class="space-y-8">
  <header class="pb-6 border-b border-stone-200">
    <h2 class="text-4xl font-bold text-stone-800">Day-Of Live Tracking</h2>
    <p class="mt-2 text-lg text-stone-600">A conceptual overview of key people and metrics on the wedding day.</p>
  </header>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Map -->
    <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-md border border-stone-200">
      <h3 class="text-2xl font-bold text-stone-800 mb-4">Venue Live Map</h3>
      <div class="relative aspect-[16/9] bg-stone-100 rounded-lg overflow-hidden">
        <img src="https://picsum.photos/seed/venuemap/1200/675" alt="Venue Map" class="w-full h-full object-cover opacity-50">
        
        <!-- Key Locations -->
        <div class="absolute top-[25%] left-[30%] text-center pointer-events-none">
          <p class="text-xs font-bold bg-black/50 text-white rounded-full px-2 py-0.5">Bridal Suite</p>
        </div>
        <div class="absolute top-[60%] left-[20%] text-center pointer-events-none">
          <p class="text-xs font-bold bg-black/50 text-white rounded-full px-2 py-0.5">Groom's Suite</p>
        </div>
        <div class="absolute top-[45%] left-[70%] text-center pointer-events-none">
          <p class="text-xs font-bold bg-black/50 text-white rounded-full px-2 py-0.5">Ceremony Area</p>
        </div>

        <!-- Tracked People -->
        @for(person of trackedPeople(); track person.name) {
          <div class="absolute transition-all duration-1000 ease-linear" [style.top.%]="person.coords.top" [style.left.%]="person.coords.left">
            <div class="relative group">
              <div class="w-4 h-4 rounded-full border-2 border-white" 
                [class.bg-rose-500]="person.role.includes('Bride')"
                [class.bg-blue-500]="person.role.includes('Groom')"
                [class.bg-pink-400]="person.role.includes('Maid')"
                [class.bg-sky-400]="person.role.includes('Best Man')">
                <div class="absolute inset-0 rounded-full bg-inherit animate-ping"></div>
              </div>
              <div class="absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-white px-2 py-1 rounded-md shadow-lg text-xs font-semibold whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
                {{ person.name }}
              </div>
            </div>
          </div>
        }
      </div>
    </div>

    <!-- Smartwatch Metrics -->
    <div class="lg:col-span-1 space-y-6">
      <div class="bg-white p-6 rounded-2xl shadow-md border border-stone-200">
        <h3 class="text-2xl font-bold text-stone-800 mb-4">Couple's Metrics</h3>
        <div class="space-y-4">
          @for(person of trackedPeople(); track person.name) {
            @if(person.heartRate) {
              <div>
                <p class="font-bold text-lg text-stone-700">{{ person.name }} ({{ person.role }})</p>
                <div class="flex justify-between items-baseline mt-1">
                  <div class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 text-red-500 mr-2"><path d="M10 3.5a.75.75 0 01.75.75V9h4.5a.75.75 0 010 1.5H10.75V15a.75.75 0 01-1.5 0v-4.5H4.75a.75.75 0 010-1.5H9.25V4.25A.75.75 0 0110 3.5z" /></svg>
                    <span class="text-2xl font-bold">{{ person.heartRate }}</span>
                    <span class="text-sm text-stone-500 ml-1">BPM</span>
                  </div>
                  <div class="text-right">
                    <p class="text-sm text-stone-500">Stress Level</p>
                    <p class="font-semibold text-lg" [class]="getStressClass(person.stressLevel)">{{ person.stressLevel }}</p>
                  </div>
                </div>
              </div>
            }
          }
        </div>
      </div>
       <div class="bg-white p-6 rounded-2xl shadow-md border border-stone-200">
        <h3 class="text-xl font-bold text-stone-800 mb-4">Party Locations</h3>
        <ul class="space-y-2">
          @for(person of trackedPeople(); track person.name) {
            <li class="flex justify-between text-stone-600">
              <span class="font-semibold">{{ person.name }}</span>
              <span>{{ person.location }}</span>
            </li>
          }
        </ul>
       </div>
    </div>
  </div>
</div>